@model Beckaroo_NetCore.Models.DailyTailsViewModel

@{
    ViewData["Title"] = "Daily Tails";
}

<div class="container BodyContainer">
    <h1>Daily Tails</h1>
    <p>There's always something going on around this place. Click on the different stories below to read about our fun times.</p>

    <div class="pt-5">
        @foreach (var year in Model.ViewDate.Select(x => x.Year).Distinct().Reverse())
        {
            <h2>@year</h2>

            @foreach (var month in Model.ViewDate.Where(x => x.Year == year).Select(x => x.ToString("MMMM")).Distinct())
            {
                <h3>@month.ToString()</h3>

                <ul>
                    @foreach (var blog in Model.Blogs.Where(x => x.PublishDate.ToString("MMMM") == month && x.PublishDate.Year == year))
                    {
                        <a class="" asp-controller="DailyTails" asp-action="Blog" asp-route-id="@blog.BlogID"><li>@blog.Title</li></a>
                    }
                </ul>
            }
        }
    </div>
</div>
